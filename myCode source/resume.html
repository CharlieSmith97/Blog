<!DOCTYPE html>
<html>
  <head>
    <title>ProbeDream的个人简历</title>
    <link rel="stylesheet" href="./resume.css" />
    <link rel="stylesheet" href="./loading.css" />
    <script src="//at.alicdn.com/t/font_876301_nd344v8xb6p.js"></script>

    <style type="text/css">
      .icon {
        width: 1em;
        height: 1em;
        vertical-align: -0.15em;
        fill: currentColor;
        overflow: hidden;
      }

      .site-welcome {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #888;
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1;
      }

      .site-welcome.active {
        display: flex;
      }
    </style>
  </head>

  <body>
    <div id="siteWelcome" class="site-welcome active">
      <div class="loading"></div>
    </div>
    <div id="topNavbar" class="topNavbar">
      <div class="topNavBar-inner clearFix">
        <a
          href="#"
          class="logo"
          alt="logo"
          style="float:left;text-decoration: none;"
        >
          <span class="rs">RS</span> <span class="card">Card</span>
        </a>

        <nav class="menu" style="float:right;">
          <ul class="clearFix">
            <!--
              关于 技能   经验  作品  博客  日历  联系方式   其他   所有项目
              about skills experience pricing  blog calendar contact other all demos
            -->
            <li><a href="#siteAbout">关于</a></li>
            <li><a href="#siteSkills">技能</a></li>
            <li class="menuTigger">
              <a href="#sitePricing">作品</a>
              <ul class="submenu">
                <li>作品1</li>
                <li>作品2</li>
                <li>作品3</li>
              </ul>
            </li>
            <li class="menuTigger">
              <a href="#siteBlog">博客</a>
              <ul class="submenu">
                <li>博客1</li>
                <li>博客2</li>
                <li>博客3</li>
              </ul>
            </li>
            <li><a href="#siteCalendar ">日历</a></li>
            <li><a href="#siteContact">联系方式</a></li>
            <li><a href="#siteOther">其他</a></li>
          </ul>
        </nav>
      </div>
    </div>
    <div class="banner"><div class="mask"></div></div>

    <main>
      <div data-x id="siteAbout" class="userCard">
        <div class="textAndpicture clearFix">
          <div class="picture">
            <img
              src="./image/ProbeDream.jpg"
              width="299"
              height="347"
              alt="头像"
            />
          </div>
          <div class="text">
            <span class="welcome">Hello <span class="triangle"> </span> </span>
            <h1 class="username">甘柳</h1>
            <p>前端开发工程师</p>
            <hr />
            <dl>
              <dt>年龄</dt>
              <dd>21</dd>
              <dt>所在城市</dt>
              <dd>九江</dd>
              <dt>邮箱</dt>
              <dd>Gump1016@163.com</dd>
              <dt>手机</dt>
              <dd>13767897758</dd>
            </dl>
          </div>
        </div>
        <footer class="media">
          <a href="https://www.jianshu.com/c/38dd7fc9033a">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-jianshu"></use>
            </svg>
          </a>
          <a href="#">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-twitter"></use>
            </svg>
          </a>
          <a href="https://xiedaimala.com">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-jirengulogojichu"></use>
            </svg>
          </a>
          <a href="https://github.com/FrankFang">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-github"></use>
            </svg>
          </a>
          <a href="https://weibo.com/jirengu?is_all=1">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-weibo"></use>
            </svg>
          </a>
        </footer>
      </div>

      <p class="DownloadResume-wrapper">
        <a class="DownloadResume" href="./resume.pdf" target="_blank" download
          >下载 PDF 简历</a
        >
      </p>

      <p class="selfIntroduction">
        甘柳: 前端中级工程师,前端爱好者<br />
        技能：前端开发，Java开发，Node.js 开发,Mysql数据库,Redis缓存数据库
      </p>
    </main>

    <section data-x class="skills" id="siteSkills">
      <h2>技能</h2>
      <ol class="clearFix">
        <li>
          <h3>HTML 5 &amp; CSS 3</h3>
          <div class="progressBar">
            <div class="progress" style="width:40%"></div>
          </div>
        </li>

        <li>
          <h3>JavaScript</h3>
          <div class="progressBar">
            <div class="progress" style="width:60%"></div>
          </div>
        </li>

        <li>
          <h3>Jquery</h3>
          <div class="progressBar">
            <div class="progress" style="width:80%"></div>
          </div>
        </li>

        <li>
          <h3>React.js</h3>
          <div class="progressBar">
            <div class="progress" style="width:70%"></div>
          </div>
        </li>

        <li>
          <h3>Vue.js</h3>
          <div class="progressBar">
            <div class="progress" style="width:75%"></div>
          </div>
        </li>
      </ol>
    </section>
    <section data-x id="sitePricing" class="portfolio">
      <h2>作品集</h2>
      <nav>
        <ol class="clearFix">
          <li id="portfolioAll">所有</li>
          <li id="portfolioFramework">框架</li>
          <li id="portfolioVallina">原生JS&amp;CSS</li>
        </ol>
        <div id="portfolioBar" class="bar state1">
          <div class="barInner"></div>
        </div>
      </nav>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
      <script>
        portfolioAll.onclick = function() {
          portfolioBar.className = "bar state1";
        };
        portfolioFramework.onclick = function() {
          portfolioBar.className = "bar state2";
        };
        portfolioVallina.onclick = function() {
          portfolioBar.className = "bar state3";
        };
      </script>

      <div class="works" style="height:597px;">
        <div class="big" style="top:0;left:0;">
          <img src="./image/1.jpg" alt="Desk" />
        </div>
        <div class="small" style="top:0;left:645px;">
          <img src="./image/2.jpg" alt="watch" />
        </div>
        <div class="small" style="top:312px;left:645px;">
          <img src="./image/3.jpg" alt="computer" />
        </div>
      </div>
    </section>
    <script>
      setTimeout(() => {
        siteWelcome.classList.remove("active");
      }, 100);

      //对一个特殊标签 添加一个offset(脱离)类
      let specialTags = document.querySelectorAll("[data-x]"); //通过指定的条件查询对应的标签元素!
      for (let index = 0; index < specialTags.length; index++) {
        specialTags[index].classList.add("offset"); //对一个特殊标签缇娜加一个Class
      }

      //之前的关于主体的高亮设置 为用户默认设置滚动! 1S之后调用该方法!
      setTimeout(() => {
        pullDown();
      }, 888);

      //定义一个滚动的方法!
      window.onscroll = function(x) {
        if (window.scrollY > 0) {
          topNavbar.classList.add("sticky");
        } else {
          topNavbar.classList.remove("sticky");
        }
        pullDown();
      };

      //下拉高亮函数!
      function pullDown() {
        //拿到指定的标签元素 进行遍历操作!
        let specialTags = document.querySelectorAll("[data-x]"); //通过指定的条件查询对应的标签元素!
        let minIndex = 0;
        //通过表达式 拿到的一组标签元素进行遍历操作!
        for (let index = 0; index < specialTags.length; index++) {
          //通过比对
          if (
            Math.abs(specialTags[index].offsetTop - window.scrollY) <
            Math.abs(specialTags[minIndex].offsetTop - window.scrollY)
          ) {
            minIndex = index;
          }
        }

        //默认的话 是向上偏移的30px 然后当滑动到对应的内容区域的话 取出对应的动画效果!
        specialTags[minIndex].classList.remove("offset");
        //minIndex就是离窗口顶部最近的元素!
        let id = specialTags[minIndex].id;
        let a = document.querySelector('a[href="#' + id + '"]');
        let li = a.parentNode;
        let brothersAndMe = li.parentNode.children;
        //先把li的兄弟样式去掉!
        for (let index = 0; index < brothersAndMe.length; index++) {
          brothersAndMe[index].classList.remove("highLight");
        }
        //对单前的li 进行样式的添加!
        li.classList.add("highLight");
      }

      //给定选择器 找到里面的所有的li
      let liTags = document.querySelectorAll("nav.menu > ul >li ");
      for (let i = 0; i < liTags.length; i++) {
        liTags[i].onmouseenter = function(details) {
          details.currentTarget.classList.add("active");
        };
        liTags[i].onmouseleave = function(details) {
          details.currentTarget.classList.remove("active");
        };
      }

      //拿到nav.menu里面的ul>li>a的元素
      let aTags = document.querySelectorAll("nav.menu > ul > li > a");

      function animate(time) {
        requestAnimationFrame(animate);
        TWEEN.update(time);
      }
      requestAnimationFrame(animate);

      for (let index = 0; index < aTags.length; index++) {
        aTags[index].onclick = function(details) {
          details.preventDefault(); //阻止默认动作!
          let a = details.currentTarget;
          let href = a.getAttribute("href"); //getAttribute 是带有Http协议的 获取到的值不做任何处理!
          let element = document.querySelector(href); //通过指定的href拿到对应的元素!
          let top = element.offsetTop; //拿到浏览器顶端到 当前元素的位置!
          /*let n = 20; //一共动25次!
          let duration = 500 / n; //每次移动的时间 总共用了0.5s
          let currentTop = window.scrollY;
          let targetTop = top - 80;
          let distance = (targetTop - currentTop) / n; //每次移动的距离        
          let i = 0;
          let id = setInterval(() => {
            if (i === n) {
              window.clearInterval(id);
              return;
            }
            i = i + 1;
            window.scrollTo(0, currentTop + distance * i);
            //位置移动 主要是当前的距离加上+每次移动的距离乘以次数!
          }, duration);*/
          //优化 通过使其有淡入淡出的效果 就是滚动条定位的时候!
          let targetTop = top - 80;
          let currentTop = window.scrollY;
          let Distance = targetTop - currentTop;
          var t = Math.abs((Distance / 100) * 300); //从下往上滑动的话 就代表距离为负数 但是对应的时间单位不能为负数!
          //100px 像素就需要使用0.3s  如果说算出来的滑动时间如果说大于0.5S的话(就是大浮动滑动 就直接设置为0.5S 快速滑动!)
          if (t > 500) {
            t = 500;
          }
          var coords = { Y: currentTop }; //当前坐标
          var tween = new TWEEN.Tween(coords)
            .to({ Y: targetTop }, t) //结束位置 时间
            .easing(TWEEN.Easing.Quadratic.InOut) //效果
            .onUpdate(function() {
              window.scrollTo(0, coords.Y);
            })
            .start();
        };
      }
    </script>
  </body>
</html>
